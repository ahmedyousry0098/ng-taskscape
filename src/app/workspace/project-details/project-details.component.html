<!-- /////sprint//////////// -->
<!-- <div class="container bg-slate-100 w-full m-5 p-2">
  <h2>Sprint One</h2> -->
<!-- /tasks/ -->
<!-- <div class="flex flex-col justify-between"> -->
<!-- //task according to status -->
<!-- <div class="my-2 p-1 outline-dashed outline-1 outline-1">
      <h3>In progress Tasks</h3> -->
<!-- //task// -->
<!-- <div
        class="max-w-4xl flex gap-7 align-content-center p-6 my-3 bg-blue-200 border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700"
      >
        <p>Task title</p>
        <p>Due Date</p>

        <p>status</p>
        <div class="flex items-center space-x-4">
          <img
            src="https://flowbite.com/docs/images/people/profile-picture-2.jpg"
            class="rounded-full h-14 w-14"
            alt=""
          />
          <div class="flex flex-col space-y-2">
            <span>Hamada</span>
            <span>Full Stack</span>
          </div>
        </div>
        <div class="flex">
          <button
            class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-0.5 px-2 me-4 rounded-md"
          >
            More
          </button>

          <button
            class="bg-green-500 hover:bg-green-700 text-white font-bold py-0.5 px-4 rounded-md"
          >
            Done
          </button>
        </div>
      </div>
    </div> -->
<!-- <div class="my-2 p-1 outline-dashed outline-1">
      <h3>To do Tasks</h3>
      <div
        class="max-w-4xl flex gap-7 align-content-center p-6 my-3 bg-red-200 border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700"
      >
        <p>Task title</p>
        <p>Due Date</p>

        <p>status</p>
        <div class="flex items-center space-x-4">
          <img
            src="https://flowbite.com/docs/images/people/profile-picture-2.jpg"
            class="rounded-full h-14 w-14"
            alt=""
          />
          <div class="flex flex-col space-y-2">
            <span>Hamada</span>
            <span>Full Stack</span>
          </div>
        </div>
        <div class="flex">
          <button
            class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-0.5 px-2 me-4 rounded-md"
          >
            More
          </button>

          <button
            class="bg-green-500 hover:bg-green-700 text-white font-bold py-0.5 px-4 rounded-md"
          >
            Done
          </button>
        </div>
      </div>
    </div> -->
<!-- <div class="my-2 p-1 outline-dashed outline-1">
      <h3>Done Tasks</h3>
      <div
        class="max-w-4xl flex gap-7 align-content-center p-6 my-3 bg-green-200 border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700"
      >
        <p>Task title</p>
        <p>Due Date</p>

        <p>status</p>
        <div class="flex items-center space-x-4">
          <img
            src="https://flowbite.com/docs/images/people/profile-picture-2.jpg"
            class="rounded-full h-14 w-14"
            alt=""
          />
          <div class="flex flex-col space-y-2">
            <span>Hamada</span>
            <span>Full Stack</span>
          </div>
        </div>
        <div class="flex">
          <button
            class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-0.5 px-2 me-4 rounded-md"
          >
            More
          </button>

          <button
            class="bg-green-500 hover:bg-green-700 text-white font-bold py-0.5 px-4 rounded-md"
          >
            Done
          </button>
        </div>
      </div>
    </div>
  </div>
</div> -->
<!-- component -->
<div class="min-h-screen p-6 bg-gray-100 flex justify-center">
  <div class="container max-w-screen-xl mx-auto">
    <div>
      <h2 class="font-semibold text-xl text-gray-600">Project Details</h2>

      <div class="bg-white rounded shadow-lg p-4 px-4 md:p-8 mb-6">
        <div class="grid gap-4 gap-y-2 text-sm grid-cols-1 lg:grid-cols-3">
          <div class="text-gray-600">
            <p class="font-medium text-lg">About Project</p>
          </div>
          <form
            [formGroup]="editProjectForm"
            (ngSubmit)="onSubmit()"
            class="lg:col-span-2"
          >
            <fieldset>
              <div
                class="grid gap-4 gap-y-2 text-sm grid-cols-1 md:grid-cols-5"
              >
                <div class="md:col-span-5">
                  <label for="projectName">Project Name</label>
                  <input
                    type="text"
                    name="projectName"
                    id="projectName"
                    formControlName="projectName"
                    class="h-10 border mt-1 rounded px-4 w-full bg-gray-50"
                    value="{{ projectName }}"
                  />
                </div>
                <div class="md:col-span-5 flex justify-between gap-5">
                  <!-- Start Date -->
                  <div class="flex flex-col gap-1">
                    <label for="startDate">Start Date</label>
                    <input
                      type="text"
                      name="startDate"
                      id="startDate"
                      formControlName="startDate"
                      class="border border-gray-600 rounded-md"
                      [class.border-red-500]="
                        editProjectForm.get('startDate')?.invalid &&
                        (editProjectForm.get('startDate')?.touched ||
                          editProjectForm.get('startDate')?.dirty ||
                          isSubmitted)
                      "
                      value="{{ project.startDate | date : 'yyyy/MM/dd' }}"
                      [disabled]="IRole === 'member'"
                    />
                    <span
                      class="text-red-500"
                      *ngIf="
                        editProjectForm.get('startDate')?.invalid &&
                        (editProjectForm.get('startDate')?.touched ||
                          editProjectForm.get('startDate')?.dirty ||
                          isSubmitted)
                      "
                      >This field is required</span
                    >
                  </div>
                  <div class="flex flex-col gap-1">
                    <label for="deadline">End Date</label>
                    <input
                      type="text"
                      name="deadline"
                      id="deadline"
                      class="border border-gray-600 rounded-md"
                      [class.border-red-500]="
                        editProjectForm.get('deadline')?.invalid &&
                        (editProjectForm.get('deadline')?.touched ||
                          editProjectForm.get('deadline')?.dirty ||
                          isSubmitted)
                      "
                      value="{{ project.deadline | date : 'yyyy/MM/dd' }}"
                    />
                    <span
                      class="text-red-500"
                      *ngIf="
                        editProjectForm.get('deadline')?.invalid &&
                        (editProjectForm.get('deadline')?.touched ||
                          editProjectForm.get('deadline')?.dirty ||
                          isSubmitted)
                      "
                      >This field is required</span
                    >
                  </div>
                  <div class="flex flex-col gap-1">
                    <label for="projectDuration">Project Duration</label>
                    <input
                      type="text"
                      name="projectDuration"
                      id="projectDuration"
                      formControlName="projectDuration"
                      class="border border-gray-600 rounded-md"
                      value="{{ projectDuration }}"
                      [disabled]="true"
                    />
                  </div>
                </div>
                <div class="md:col-span-5">
                  <label for="projectDescription">Project Description</label>
                  <input
                    type="text"
                    name="projectDescription"
                    id="projectDescription"
                    formControlName="description"
                    class="h-10 border mt-1 rounded px-4 w-full bg-gray-50"
                    value="{{ project.description }}"
                  />
                </div>
                <div
                  *ngIf="IRole === 'scrumMaster'"
                  class="md:col-span-5 flex flex-col gap-1"
                >
                  <label for="employees">Collaborators</label>
                  <p-multiSelect
                    class="flex border"
                    [options]="employees"
                    [(ngModel)]="checkedEmployees"
                    formControlName="employees"
                    optionLabel="employeeName"
                    optionValue="_id"
                    display="chip"
                    placeholder="add collaborators to your project"
                    [class.border-red-500]="
                      editProjectForm.get('employees')?.invalid &&
                      (editProjectForm.get('employees')?.touched ||
                        editProjectForm.get('employees')?.dirty ||
                        isSubmitted)
                    "
                    (onChange)="onmultiselectchange($event)"
                  ></p-multiSelect>
                  <span
                    class="text-red-500"
                    *ngIf="
                      editProjectForm.get('employees')?.invalid &&
                      (editProjectForm.get('employees')?.touched ||
                        editProjectForm.get('employees')?.dirty ||
                        isSubmitted)
                    "
                    >This field is required</span
                  >
                </div>

                <div
                  *ngIf="IRole === 'member'"
                  class="md:col-span-5 border border-gray-600 rounded-md"
                >
                  <h2 class="px-1">Current Project Employees</h2>

                  <ul class="flex flex-col px-2">
                    <li
                      *ngFor="let employee of projectEmployees"
                      class="flex items-center gap-2"
                    >
                      <p class="text-lg">{{ employee.employeeName }}</p>
                      <p class="text-md">{{ employee.title }}</p>
                    </li>
                  </ul>
                </div>
                <div class="md:col-span-5">
                  <label for="projectScrum">Project Sprints Count</label>
                  <div
                    class="h-10 border mt-1 rounded px-4 w-full bg-gray-50 text-lg"
                  >
                    {{ project.sprints.length }}
                  </div>
                </div>
                <div
                  *ngIf="IRole === 'scrumMaster'"
                  class="md:col-span-5 text-right"
                >
                  <div class="inline-flex items-end">
                    <button
                      type="submit"
                      class="text-white bg-blue-600 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"
                    >
                      <i *ngIf="isLoading" class="fas fa-spinner fa-spin"></i>

                      Edit
                    </button>
                  </div>
                </div>
              </div>
            </fieldset>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
